# Configuration des routes LOCALES
# NOTE: Les routes locales sont gérées par Nginx directement (port 80)
# Traefik gère le dashboard sur port 8080 (accessible depuis subnet local)
# Traefik gère le frontend WAN (port 443)
# Le dashboard est accessible via insecure: true (pas besoin de route)

http:
  # Pas de route nécessaire pour le dashboard car insecure: true dans traefik.yml
  # Le dashboard est accessible directement via l'entrypoint dashboard (port 8080)
  routers:
    # Route vide - le dashboard est accessible directement via insecure: true

  services:
    # Service frontend (proxy vers nginx qui sert les fichiers statiques)
    # Nginx écoute sur port 9090 en interne pour servir le frontend
    frontend-service:
      loadBalancer:
        servers:
          - url: "http://127.0.0.1:9090"
        passHostHeader: true

